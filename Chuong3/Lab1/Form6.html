<!doctype html>
<html lang="en">
  <head>
    <title>Form 6</title>
    <!-- Required meta tags -->
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

    <!-- Bootstrap CSS -->
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css" 
    integrity="sha384-ggOyR0iXCbMQv3Xipma34MD+dH/1fQ784/j6cY/iJTQUOhcWr7x9JvoRxT2MZw1T" crossorigin="anonymous">
    <link rel="stylesheet" href="./bootstrap-4.0.0/dist/css/bootstrap.min.css">
  </head>
  <body onload="makeNewWindow()">
    <br>
    <center>
        <form action="" name="myform" method="post">
            <div>
                <table width="633" height="423" border="1" style="margin-bottom: 30px">
                    <tr>
                        <td style="width: 30%;">Contact Form</td>
                    </tr>
                    <tr>
                        <td>User Name</td>
                        <td><input type="text" name="username" style="width: 100%;background-color: burlywood" required>
                            <div id='myform_username_errorloc' class="error_strings"></div>
                        </td>
                    </tr>
                    <tr>
                        <td>Password</td>
                        <td><input type="password" name="password" style="width: 100%;background-color: burlywood" required>
                            <div id='myform_password_errorloc' class="error_strings"></div>
                        </td>
                    </tr>
                    <tr>
                        <td>Confirm Password</td>
                        <td><input type="password" is = "cf_password" name="cf-password" style="width: 100%;background-color: burlywood " required>
                            <div id='myform_cf-password_errorloc' class="error_strings"></div>
                        </td>
                    </tr>
                    <tr>
                        <td>Contact:</td>
                        <td><textarea name="contact" style="overflow-y:scroll;width: 100%;background-color: burlywood" required></textarea>
                            <div id='myform_contact_errorloc' class="error_strings"></div>
                        </td>
                    </tr>
                    <tr>
                        <td>Age</td>
                        <td><input type="text" name="age" style="width: 100%;background-color: burlywood" required>
                          <div id='myform_age_errorloc' class="error_strings"></div>
                      </td>
                    </tr>
                    <tr>
                        <td>Email:</td>
                        <td><input type="email" name="email" style="width: 100%;background-color: burlywood" required></td>
                    </tr>
                    <tr>
                        <td>Phone XXX-XX-XXX</td>
                        <td><input type="tel" name="phone"  style="width: 100%;" pattern="[0-9]{3}-[0-9]{2}-[0-9]{3}" required></td>
                    </tr>
                </table>
                <div>
                    <input type="reset" value="Reset"/>
                    <input type="submit" value="Register" onclick="subWrite()"/>  
                </div>

            </div>  
        </form>
    </center>
    <script>

        var newWindow;
        function makeNewWindow(){
            newWindow = window.open("","","status,height=400,width=500"); 
        }
        function subWrite(){
        var username = document.myform.username.value;
        var password = document.myform.password.value;
        var cf_password = document.myform['cf-password'].value;
        var age = document.myform.age.value;
        var contact = document.myform.contact.value;
        var phone = document.myform.phone.value;
        var email = document.myform.email.value;
        if(password == cf_password){
            if (newWindow.closed) { 
			      makeNewWindow(); 
            }
            newWindow.focus(); 
            var newContent = "<html><head><title>title</title></head>"; 
            newContent += "<body bgcolor='#FFC'>"; 
            newContent += "Tên: "+username+"<br>";
            newContent += "Mật Khẩu: "+password+"<br>";
            newContent += "Contact: "+contact+"<br>";
            newContent += "Tuổi: "+age+"<br>";
            newContent += "Số điện thoại: "+phone+"<br>";
            newContent += "Email: "+email+"<br>";
            newContent += "</body></html>"; 
            newWindow.document.write(newContent); 
            newWindow.document.close(); 
        }
        else{
                alert("Password và Confirm password phải giống nhau");
          }
        }
        function validateEmail(email) {
            var re = /^(([^<>()[\]\\.,;:\s@\"]+(\.[^<>()[\]\\.,;:\s@\"]+)*)|(\".+\"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/;
            return re.test(email);
        }
    </script>
</body>
</html>